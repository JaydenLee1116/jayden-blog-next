---
emoji: ğŸŒ±
title: 231123(ëª©)
date: '2023-11-23 23:30:00'
author: ì œì´ë“ 
tags: ê¸°ë¡ ì¼ì§€
categories: ì„±ì¥ì¼ì§€
thumbnail: /images/thumbnails/plant.png
---

# ğŸŒ± ì„±ì¥ì¼ì§€ 8.0

ì±… `í–‰ë³µí•œ ì´ê¸°ì£¼ì˜ì(ì›¨ì¸ ë‹¤ì´ì–´)`ì˜ ë‚´ìš©ì— ìê·¹ë°›ì•„ ì‹œì‘í•˜ëŠ” ì†Œë°•í•œ `ì„±ì¥ê¸°ë¡`

- ì‚´ì•„ìˆëŠ” ê½ƒê³¼ ì£½ì€ ê½ƒì€ ì–´ë–»ê²Œ êµ¬ë³„í•˜ëŠ”ê°€?
- ì„±ì¥í•˜ê³  ìˆëŠ” ê²ƒì´ ì‚´ì•„ ìˆëŠ” ê²ƒì´ë‹¤.
- ìƒëª…ì˜ ìœ ì¼í•œ ì¦ê±°ëŠ” ì„±ì¥ì´ë‹¤!

> âš› (8.0)<ì™„ì „ ê°œí¸> ê·¸ ë‚ ì˜ í‚¤ì›Œë“œ ì¤‘ì‹¬ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ë˜ ë§¤ì¼ ê¾¸ì¤€íˆ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë§Œë“¤ì–´ë³´ì.

## ê°œì¸ ë¸”ë¡œê·¸ ProgressBar êµ¬í˜„

ë¸”ë¡œê·¸ì—ì„œ ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ìŠ¤í¬ë¡¤ì„ ì‚¬ìš©í•˜ìë‹ˆ, ìŠ¤í¬ë¡¤ì´ ìƒê¸¸ ë•Œë§Œ widthê°€ ì¢ì•„ì§€ê³  ì‚¬ë¼ì§€ë©´ ë‹¤ì‹œ ìŠ¤í¬ë¡¤ì˜ widthë§Œí¼ ëŠ˜ì–´ë‚˜ëŠ” í˜„ìƒì´ ë„ˆë¬´ ë³´ê¸° ì‹«ì—ˆë‹¤.(ê·¸ì— ë”°ë¼ ë‹¤ë¥¸ UIë„ ë³€ê²½ë˜ê¸°ì—) í•´ì„œ ì•„ì˜ˆ ìŠ¤í¬ë¡¤ì„ ì—†ì• ëŠ” ë°©í–¥ìœ¼ë¡œ êµ¬í˜„ì„ í–ˆëŠ”ë°, ê·¸ë ‡ê²Œ í•œë™ì•ˆ ì‚¬ìš©í•˜ë‹¤ê°€ ë‚´ê°€ ë‚´ ê¸€ì„ ì½ìœ¼ë©´ì„œë„ ì´ ê¸€ì˜ ì–´ëŠ ì§€ì ì— ì˜¨ê±´ì§€ ê°ì´ ì˜¤ì§ˆ ì•Šì•˜ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ Headerì— ProgressBar ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ê³  í˜„ì¬ í˜ì´ì§€ì˜ ì§„í–‰ ìƒíƒœë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ êµ¬í˜„í•˜ì˜€ë‹¤.

useReadingProgress.ts

- `scroll` ì´ë²¤íŠ¸ì— ë”°ë¼ í˜„ì¬ ìŠ¤í¬ë¡¤ì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ì—¬ `completion` ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì»¤ìŠ¤í…€ í›…

```ts
import { useEffect, useState } from 'react';

export function useReadingProgress() {
  const [completion, setCompletion] = useState(0);
  useEffect(() => {
    function updateScrollCompletion() {
      const currentProgress = window.scrollY;

      let scrollHeight = document.body.scrollHeight - window.innerHeight;
      if (scrollHeight) {
        setCompletion(Number((currentProgress / scrollHeight).toFixed(2)) * 100);
      }
    }

    window.addEventListener('scroll', updateScrollCompletion);

    return () => {
      window.removeEventListener('scroll', updateScrollCompletion);
    };
  }, []);
  return completion;
}
```

ProgressBat.tsx

- `useReadingProgress` í›…ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ í˜ì´ì§€ì˜ ì§„í–‰ ìƒíƒœë¥¼ ë°›ì•„ì™€ ProgressBarë¥¼ ë Œë”ë§í•˜ëŠ” ì»´í¬ë„ŒíŠ¸

```tsx
'use client';

import { useReadingProgress } from '@/hooks/useReadingProgress';
import { usePathname } from 'next/navigation';

export default function ProgressBar() {
  const completion = useReadingProgress();
  const pathname = usePathname();
  const isHome = pathname === '/';

  return (
    <>
      {isHome || (
        <div className="sticky top-0 z-20">
          <span
            style={{
              transform: `translateX(${completion - 104}%)`,
            }}
            className="bg-jayden-0 absolute bottom-0 h-1 w-screen transition-transform duration-150"
          />
        </div>
      )}
    </>
  );
}
```

- `isHome`ì€ í˜„ì¬ í˜ì´ì§€ê°€ Homeì¸ì§€ ì•„ë‹Œì§€ë¥¼ íŒë‹¨í•˜ëŠ” ë³€ìˆ˜ì´ë‹¤. Homeì´ ì•„ë‹ ë•Œë§Œ ProgressBarë¥¼ ë Œë”ë§í•˜ë„ë¡ í•˜ì˜€ë‹¤.
- `useReadingProgress` í›…ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— `use client`ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

# ğŸ“ íšŒê³ 

ì‘ì€ í”¼ì²˜ì§€ë§Œ ì¡°ê¸ˆì”© ë¸”ë¡œê·¸ê°€ í’ì„±í•´ì§€ëŠ” ê²ƒ ê°™ì•„ì„œ ê¸°ë¶„ì´ ì¢‹ë‹¤. í™•ì‹¤íˆ ë‚˜ëŠ” ìœ ì €ì—ê²Œ ë³´ì—¬ì§€ëŠ” UI/UXë¥¼ ê³ ë¯¼í•˜ê³  ì ìš©í•˜ëŠ” ê²Œ ë„ˆë¬´ ì¬ë¯¸ìˆë‹¤. ë³µì¡í•œ ê¸°ëŠ¥ì€ ì•„ë‹ˆì§€ë§Œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì½”ë“œë„ ì°¸ê³ í•˜ê³  ë‚´ê°€ ì§ì ‘ êµ¬í˜„í•˜ë©´ì„œ ê³„ì† ë°°ìš°ë„ë¡ í•˜ì~!

## ì°¸ê³ 

- ì¶”í›„ ì°¾ìœ¼ë©´ ì¶”ê°€ ì˜ˆì •
